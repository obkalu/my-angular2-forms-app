<div class="container">
  <div  [hidden]="submitted">
  <h1>Book Form</h1>
  <!--{{diagnostic}} -->
  <form (ngSubmit)="onSubmit()" #bookForm="ngForm">
      <div class="form-group">
        <label for="txtTitle">Title:</label>
        <input id="txtTitle" type="text" class="form-control" required="required" placeholder="Enter title" 
            name="title" [(ngModel)]="book.title" #title="ngModel" />
        <div [hidden]="title.valid || title.pristine" class="alert alert-danger">Title is required</div>
      </div>
      
      <div class="form-group">
        <label for="txtAuthor">Author:</label>
        <input id="txtAuthor" type="text" class="form-control" required="required" placeholder="Enter author" 
            name="author" [(ngModel)]="book.author" #author="ngModel" /> 
        <div [hidden]="author.valid || author.pristine" class="alert alert-danger">Author is required</div>
      </div>
      <div class="form-group">
        <label for="txtUrl">Url (optional):</label>
        <input id="txtUrl" type="text" class="form-control" placeholder="Enter url" 
            name="url" [(ngModel)]="book.url" /> 
      </div>    
      <div class="form-group">
        <label for="rating">Rating:</label>
        <select class="form-control" id="rating" required="required" [(ngModel)]="book.rating" name="rating" #rating="ngModel">
          <option *ngFor="let rating of ratings; let i=index" [value]="rating">{{rating}}</option>
        </select>
        <div [hidden]="rating.valid || rating.pristine" class="alert alert-danger">Rating is required</div>
      </div>      
      <button type="submit" class="btn btn-default" [disabled]="!bookForm.form.valid">Submit</button>
      <button type="button" class="btn btn-default" (click)="addNewBook(); bookForm.reset()">Add New Book</button>        
  </form>
  </div>
  <div [hidden]="!submitted">
    <h2>You submitted the following:</h2>
    <div class="row">
      <div class="col-xs-3">Title</div>
      <div class="col-xs-9  pull-left">{{ book.title }}</div>
    </div>
    <div class="row">
      <div class="col-xs-3">Author</div>
      <div class="col-xs-9  pull-left">{{ book.author }}</div>
    </div>    
    <div class="row">
      <div class="col-xs-3">Url</div>
      <div class="col-xs-9 pull-left">{{ book.url }}</div>
    </div>
    <div class="row">
      <div class="col-xs-3">Rating</div>
      <div class="col-xs-9 pull-left">{{ book.rating }}</div>
    </div>
    <br>
    <button class="btn btn-default" (click)="submitted=false">Edit</button>
  </div>
  
</div>
